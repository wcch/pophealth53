<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>popHealth Measure Edit</title>
	<link type="text/css" rel="stylesheet" href="stylesheets/pophealth.css">
	<link type="text/css" rel="stylesheet" href="stylesheets/engage.itoggle.css">
	<link type="text/css" rel="stylesheet" href="stylesheets/calendrical.css">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>
	<script type="text/javascript" src="javascripts/jquery.easing.1.3.js"></script>
	<script type="text/javascript" src="javascripts/engage.itoggle-min.js"></script>
	<script type="text/javascript" src="javascripts/jquery.calendrical.js"></script>
	
	
	<script type="text/javascript">
	
	
	var popHealth = popHealth || {};
	
	popHealth.drawPctChart = function(numerator,denominator,elem) {
		$(elem).empty();
		var percent = denominator > 0 ? (numerator/denominator).toFixed(2)*100 : 0;
		var percentStr = percent + "%"
		$.tmpl("${numerator} / ${denominator} patients = ${percentage}",{numerator:numerator,denominator:denominator,percentage:percentStr}).appendTo(elem);
		var bar = $("<div></div>",{className:"bar"});
		$("<div></div>",{className:"barVal",width:percentStr,html:"<span>"+percentStr+"</span>"}).appendTo(bar);
		$(elem).append(bar);
	}
	
	popHealth.saveNewMeasure = function() { alert("Save new measure"); };
	popHealth.returnToDash = function() { alert("return to dashboard"); };
	popHealth.deleteParam = function() { alert("you clicked delete on a parameter"); };
	
	
	$(document).ready(function() {
	// turn checkboxes into sliding toggle switches
	$('.itoggle input').iToggle({
		type: 'checkbox',
		keepLabel: false,
		easing: 'easeOutExpo',
		speed: 300,
		onClick: function(){
			//Function here
		},
		onClickOn: function(){
			//Function here
		},
		onClickOff: function(){
			//Function here
		},
		onSlide: function(){
			//Function here
		},
		onSlideOn: function(){
			//Function here
		},
		onSlideOff: function(){
			//Function here
		},
	});
	
	// make the param list expand/collapse
	$("#parameterClassList li label").click(function(){
		$(this).toggleClass("open");
		if ($(this).hasClass("open")) {
			$(this).siblings("div.paramItemList").slideDown();
		} else {
			$(this).siblings("div.paramItemList").slideUp();
		}
	});
	
	$(".deleteParamIcon").click(popHealth.deleteParam);
	$("#btnSaveNewMeasure").click(popHealth.saveNewMeasure);
	$("#btnReturnToDash").click(popHealth.returnToDash);
	$("#measurementPeriodStartDate, #measurementPeriodEndDate").calendricalDate({usa:true});
	
});
	
	function alertDate(e) {
		alert("you changed me");
		}
	
	</script>

</head>

<body>
<div id="container">

	<div id="header">
		<div id="breadcrumbBox">
			<ul id="breadcrumbItems">
				<li><a href="#">44 Measures</a> <span class="sep">&raquo;</span></li>
				<li><a href="#">Pneumonia Vaccination Status for Older Adults</a> <span class="sep">&raquo;</span></li>
				<li><span>Edit Parameters</span></li>
			</ul><br style="clear:both"/>
		</div>
	</div><!-- end #header -->
	
	<div id="pageContent">

		
		<div id="measureTitle">
			<div id="measureCtrl">
				<div id="mcp">
					<span id="numeratorValue">3467</span> / <span id="denominatorValue">7834</span> patients = <span id="measurePopulationPercentage">44%</span>
					<div class="bar">
						<div class="barVal" style="width:44%"><span>44%</span></div>			
					</div>
				</div>
				<input type="button" value="Save as new measure" id="btnSaveNewMeasure">
				<input type="button" value="Return to dashboard" id="btnReturnToDash">
			</div>

			<h1>Pneumonia Vaccination Status for Older Adults</h1>
			<h2>Patients more than 65 yrs old <span class="subconditionsPhrase">who received a pneumococcal vaccine.</span></h2>

			<div id="measurementPeriod">
				<label>Measurement Period: </label>
				<input type="text" id="measurementPeriodStartDate" size="11" maxlength="10" value="1/1/2009">
				<span>to</span>
				<input type="text" id="measurementPeriodEndDate" size="11" maxlength="10" value="1/4/2010">
			</div>
		</div><!-- end measureTitle -->

		<div id="measureEditContainer">
		<div id="eligibilityMeasures">
			<h3>Eligible: <span id="eligibleCount">7834</span> patients</h3>
			<div class="measureBox">
			<div id="eligibilityExclusionMarker" class="exclusionTab">
				0 Exclusions
			</div>
			<div id="eligibilityMeasureItems">
				<div class="paramGroupContainer" title="outer parameterGroup container used for spacing and as drop target">
					<div class="paramGroup" title="this is the nesting box for items">
						<div class="paramItem">
							<a href="#"><img src="images/icnDelete.png" class="deleteParamIcon"></a>
							Male
							<div class="paramBar">
								<div class="paramBarVal" style="width:52%">52%</div>
							</div>
						</div>
					
						<div class="paramGroupToggle">
							<div class="itoggle" id="param_op_1">
								<input type="checkbox" id="example_1" />
							</div>
						</div>
						
						<div class="paramItem">
							<a href="#"><img src="images/icnDelete.png" class="deleteParamIcon"></a>
							Female
							<div class="paramBar">
								<div class="paramBarVal" style="width:48%">48%</div>
							</div>
						</div>
					</div><!-- end .paramGroup -->
				</div>
				
				<div class="paramGroupToggle">
					<div class="itoggle" id="param_op_2">
						<input type="checkbox" id="example_2" checked/>
					</div>
				</div>

				<div class="paramGroupContainer" >	
					<div class="paramGroup">
						<div class="paramItem">
							<a href="#"><img src="images/icnDelete.png" class="deleteParamIcon"></a>
							Age >= 64 before measure period
							<div class="paramBar">
								<div class="paramBarVal" style="width:71%">71%</div>
							</div>
						</div>

						<div class="paramGroupToggle">
							<div class="itoggle" id="param_op_2">
								<input type="checkbox" id="example_2" checked/>
							</div>
						</div>

						<div class="paramGroup">
							<div class="paramItem">
								<a href="#"><img src="images/icnDelete.png" class="deleteParamIcon"></a>
								Male
								<div class="paramBar">
									<div class="paramBarVal" style="width:52%">52%</div>
								</div>
							</div>
						
							<div class="paramGroupToggle">
								<div class="itoggle" id="param_op_1">
									<input type="checkbox" id="example_3b" />
								</div>
							</div>
							
							<div class="paramItem">
								<a href="#"><img src="images/icnDelete.png" class="deleteParamIcon"></a>
								Female
								<div class="paramBar">
									<div class="paramBarVal" style="width:48%">48%</div>
								</div>
							</div>
							
							<div class="paramGroupToggle">
								<div class="itoggle" id="param_op_1">
									<input type="checkbox" id="example_4" checked />
								</div>
							</div>
							
							<div class="paramGroup">
							
								<div class="paramItem">
									<a href="#"><img src="images/icnDelete.png" class="deleteParamIcon"></a>
									Indicative of Diabetes
									<div class="paramBar">
										<div class="paramBarVal" style="width:52%">52%</div>
									</div>
								</div>
							
								<div class="paramGroupToggle">
									<div class="itoggle" id="param_op_1">
										<input type="checkbox" id="example_5" />
									</div>
								</div>
								
								<div class="paramItem">
									<a href="#"><img src="images/icnDelete.png" class="deleteParamIcon"></a>
									Indicative of Type II diabetes
									<div class="paramBar">
										<div class="paramBarVal" style="width:48%">48%</div>
									</div>
								</div>
							</div>
							
						</div>
						
					</div><!-- end .paramGroup -->
				</div>					

				<div class="paramGroupToggle">
					<div class="itoggle" id="param_op_3">
						<input type="checkbox" id="example_3" checked/>
					</div>
				</div>

				<div class="paramGroupContainer">	
					<div class="paramGroup">
						<div class="paramItem">
							<h4>Encounter: <img src="images/icnMicroCalendar.png"> </h4>
							<a href="#"><img src="images/icnDelete.png" class="deleteParamIcon"></a>
							Outpatient
							<div class="paramBar">
								<div class="paramBarVal" style="width:29%">29%</div>
							</div>
						</div>
					</div><!-- end .paramGroup -->
				</div><!-- end outer paramGroup container -->
			</div><!-- end #eligibilityMeasureItems -->
			</div><!-- end measureBox -->
		</div><!-- end #eligibilityMeasures -->
		
		<div id="outcomeMeasures">
			<h3>Outcome: <span id="eligibleCount">3467</span> patients</h3>
			<div class="measureBox">
				<div id="outcomeExclusionMarker" class="exclusionTab">
					0 Exclusions
				</div>
				<div id="outcomeMeasureItems">
					<div title="outcome parameter group container">
						<div class="paramGroup">
							<div class="paramItem">
								<h4>Medication Administered:</h4>
								<a href="#"><img src="images/icnDelete.png" class="deleteParamIcon"></a>
								Pneumococcal vaccination
								<div class="paramBar">
									<div class="paramBarVal" style="width:71%">71%</div>
								</div>
							</div>
						</div><!-- end .paramGroup -->
	
					</div>
				</div>
			</div><!-- end measureBox -->
		</div><!-- end #outcomeMeasures -->
		
		<div id="parameterList">
			<h3>Parameters</h3>
			<div class="icons">
				<img src="images/icnCalendar.png"/>
				<img src="images/icnCount.png"/>
				<img src="images/icnInverse.png"/>
			</div>
			<div class="paramList">
				<p>Drag parameters into workspaces to construct quality measure.</p>
				<ul id="parameterClassList">
					<li><label>Communications</label>
						<div class="paramItemList" style="display:none">
							<ul>
							<li>Contraceptive Use Education</li>
							<li>Counseling for Nutrition</li>
							<li>Counseling for Physical Activity</li>
							<li>Tobacco Use Cessation Counseling</li>
							</ul>
						</div>
					</li>
					<li><label>Diagnosis</label>
						<div class="paramItemList" style="display:none">
							<ul>
							<li>Diagnosis param 1</li>
							<li>Diagnosis param 2</li>
							<li>Diagnosis param 3</li>
							<li>Diagnosis param 4</li>
							</ul>
						</div>
					</li>
					<li><label>Diagnostics</label>
						<div class="paramItemList" style="display:none">
							<ul>
							<li>Diagnostics param 1</li>
							<li>Diagnostics param 2</li>
							</ul>
						</div>
					</li>
					<li><label class="open">Encounters</label>
						<div class="paramItemList">
							<ul>
							<li>Acute Inpatient</li>
							<li>Ambulatory</li>
							<li>Domicilliary</li>
							<li>ED</li>
							<li>Health and Behavior Assess.</li>
							<li>Influenza</li>
							<li>Non-Acute Inpatient</li>
							<li>Nursing Facility</li>
							<li>Occupational Therapy</li>
							<li>Office Visit</li>
							<li>Outpatient</li>
							<li>Outpatient BH</li>
							<li>Output</li>
							<li>Opthamalogical Services</li>
							<li>Prenatal</li>
							<li>POS Modifier</li>
							</ul>
						</div>
					</li>
					<li><label>Lab Works</label></li>
					<li><label>Patient Characteristics</label></li>
					<li><label>Physical Exams</label></li>
					<li><label>Procedures</label></li>
					<li><label>Symptoms</label></li>
					<li><label>Treatment</label></li>
				</ul>
			</div>
		</div>
		
	</div><!-- end measureEditContainer -->
	</div><!-- end #pageContent -->

</div>


</body>
    <script type="text/javascript" src="javascripts/jquery.tmpl.js"></script>
</html>
